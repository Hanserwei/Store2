<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE configuration
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-config.dtd">
<configuration>
    <properties resource="db.properties"/>
    <settings>
        <!-- 配置日志，使用SLF4J日志 -->
        <!-- <setting name="logImpl" value="STDOUT_LOGGING"/> -->
        <setting name="mapUnderscoreToCamelCase" value="true"/>
    </settings>
    <plugins>
        <plugin interceptor="com.github.pagehelper.PageInterceptor"/>
    </plugins>
    <!-- 配置环境，default属性指定默认使用的环境 -->
    <environments default="development">
        <!-- 定义一个名为development的环境 -->
        <environment id="development">
            <!-- 配置事务管理器，使用JDBC原生事务管理 -->
            <transactionManager type="JDBC"/>
            <!-- 配置数据源，使用连接池 -->
            <dataSource type="POOLED">
                <!-- 数据库驱动类名，使用占位符从外部配置文件读取 -->
                <property name="driver" value="${jdbc.driverClassName}"/>
                <!-- 数据库连接URL，使用占位符从外部配置文件读取 -->
                <property name="url" value="${jdbc.url}"/>
                <!-- 数据库用户名，使用占位符从外部配置文件读取 -->
                <property name="username" value="${jdbc.username}"/>
                <!-- 数据库密码，使用占位符从外部配置文件读取 -->
                <property name="password" value="${jdbc.password}"/>
                <!-- 连接池配置 -->
                <!--
                    配置数据库连接池参数

                    poolMaximumActiveConnections: 连接池中最大活跃连接数，当连接数达到此值时，新请求将等待
                    poolMaximumIdleConnections: 连接池中最大空闲连接数，空闲连接超过此值时将被释放
                    poolMaximumCheckoutTime: 连接被检出的最大时间(毫秒)，超时将强制回收连接
                    poolTimeToWait: 获取连接时的最大等待时间(毫秒)，超时将抛出异常
                    poolPingEnabled: 是否启用连接有效性检测机制
                    poolPingQuery: 连接有效性检测SQL语句，用于验证连接是否有效
                    poolPingConnectionsNotUsedFor: 连接空闲多久后需要进行有效性检测(毫秒)
                -->
                <property name="poolMaximumActiveConnections" value="10"/>
                <property name="poolMaximumIdleConnections" value="5"/>
                <property name="poolMaximumCheckoutTime" value="20000"/>
                <property name="poolTimeToWait" value="20000"/>
                <property name="poolPingEnabled" value="true"/>
                <property name="poolPingQuery" value="SELECT 1"/>
                <property name="poolPingConnectionsNotUsedFor" value="30000"/>
            </dataSource>
        </environment>
    </environments>
    <!-- 配置映射器，指定Mapper XML文件的位置 -->
    <mappers>
        <!-- 引入BlogMapper.xml映射文件 -->
        <package name="com.hanserwei.mapper"/>
    </mappers>
</configuration>